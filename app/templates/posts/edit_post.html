{% extends 'shared/base.html' %}

{% block title%}
    <title>Edit Post</title>
{% endblock %}

{% block content %}


<div class="container text-light">
    <div class="row-my-3">
        <h5 class="display-5">Edit Post</h5>
        <div class="text-danger font-weight-bold">
            {% if error%}
                {{error}}
            {%endif%}
        </div>
    </div>


    <div class="row-my-5">
        <form class="form-horizontal" method="POST" enctype="multipart/form-data">
            <div class="form-group">
                <label for="exampleFormControlTextarea1" class="cols-sm-2 control-label">Content</label>
                <div class="cols-sm-10">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-user fa" aria-hidden="true"></i></span>
                        <textarea class="form-control bg-dark text-light" name="content" id="exampleFormControlTextarea1" rows="3">{{post.content}}</textarea>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label for="file" class="cols-sm-2 control-label">Upload File</label>
                <div class="input-group ">
                    <input type="file" id="file" name="file" class="form-control bg-dark text-light">
                </div>

                <div class="card bg-dark ">
                    <div class="card-body">
                        <div class="preview" id="preview">
                            {% if post.media_dir %}
                                <img class="card-img mb-2" id="img_default" src="{{url_for("media",path=post.media_dir)}}">
                            {% endif %}
                        </div>
                        <div>
                            <button type="button" class="btn btn-outline-primary" onclick="clearInputFile({{post.id}})">clear</button>
                        </div>
                    </div>

                </div>
            </div>
            <div class="form-group">
                <div class="row">
                    <div class="col-sm-2">
                        <button type="submit" value="create" class="btn btn-primary ">Edit</button>
                    </div>
                    <div class="col-sm-2 ">
                        <a href="/" class="btn btn-danger" >Cancel</a>
                    </div>
                </div>
            </div>
        </form>


        <script src="{{url_for("static",path="js/image_preview.js")}}"></script>

        <script src="{{url_for("static",path="js/set_empty_img.js")}}"></script>

    </div>

{% endblock %}
